<div class="recherche-container">
  <header>
    <h1>EasyColoc</h1>
    <p>Trouvez votre colocation id√©ale facilement üè†</p>
    <!--profile icon -->

    <div class="user-icon" *ngIf="isConnected">
       <h4 >User Profile</h4>
   <img id=prof src="assets/profile.png" alt="l">
  </div>
  </header>

  <!-- Barre de recherche -->
  <section class="search-section">
    <h2>Recherchez votre logement id√©al</h2>
    <p>Trouvez facilement une colocation selon la localisation, le type ou le prix.</p>

    <div class="search-bar">
      <!-- Ville -->
      <input type="text" placeholder="Ville ou quartier..." [(ngModel)]="searchVille" />

      <!-- Type -->
      <select [(ngModel)]="searchType">
        <option value="">Type de logement</option>
        <option value="Appartement">Appartement</option>
        <option value="Studio">Studio</option>
        <option value="Maison">Maison</option>
        <option value="Chambre partag√©e">Chambre partag√©e</option>
      </select>

      <!-- Prix max -->
      <input type="number" placeholder="Prix max (TND)" [(ngModel)]="searchPrix" min="0" />

      <!-- Boutons -->
      <button class="btn-search" (click)="applyFilter()">Rechercher</button>
      <button class="btn-reset" (click)="resetSearch()">R√©initialiser</button>
    </div>
  </section>

  <!-- Carte Google Maps -->
  <section class="map-section">
    <iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12856.06807160111!2d10.16579!3d36.81897!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1302c6a2f9a38e4f%3A0x7df8df4e0cc2a1e3!2sTunis!5e0!3m2!1sfr!2stn!4v1700000000000!5m2!1sfr!2stn"
    width="100%"
    height="450"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
  </section>

  <!-- R√©sultats de recherche dynamiques -->
  <section class="results-section" *ngIf="showResults">
  <h3>R√©sultats sugg√©r√©s ‚ú®</h3>
  <div class="results" >
    <div class="card" *ngFor="let logement of logements">
      <h4>{{ logement.nom }}</h4>
      <p>{{ logement.pieces }} pi√®ce{{ logement.pieces > 1 ? 's' : '' }} ‚Ä¢ {{ logement.prix }} TND / mois</p>
      <button >Voir d√©tails</button>
      <button (click)="reserver(logement)" *ngIf="isConnected"  >
        {{ logement.reserved ? 'R√©serv√© ' : 'R√©server' }}
      </button>
    </div>
  </div>
</section>

</div>
