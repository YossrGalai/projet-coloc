<div class="recherche-container">
  <header>
    <h1>EasyColoc</h1>
    <p>Trouvez votre colocation id√©ale facilement üè†</p>
    <!--profile icon -->
   <div class="user-icon" *ngIf="auth.isConnected()"  >
  <a [routerLink]="['/profil']"  class="profil-link" >User Profile</a>
  <a >
    <img id="prof" src="assets/profile.png" alt="Profile">
  </a>
</div>

  </header>

  <!-- Barre de recherche -->
  <section class="search-section">
    <h4>Recherchez votre logement id√©al</h4>

 
     <!-- Select Ville -->
      <select [(ngModel)]="searchVille" class="search-select">
       <option [ngValue]="null" value="" disabled selected>Choisir un gouvernorat...</option>
       <option *ngFor="let ville of villes" [value]="ville">{{ ville }}</option>
      </select>

     <!-- Input Quartier -->
     <input  type="text" placeholder="Quartier..."  [(ngModel)]="searchQuartier" class="search-input" />


      <!-- Type -->
      <select [(ngModel)]="searchType">
        <option value="" aria-placeholder="Type de logement" [ngValue]="null" selected disabled>Type de logement</option>
        <option value="Appartement">Appartement</option>
        <option value="Studio">Studio</option>
        <option value="Maison">Maison</option>
        <option value="Chambre partag√©e">Chambre partag√©e</option>
      </select>

      <!-- Prix max -->
      <input type="number" placeholder="Prix max (TND)" [(ngModel)]="searchPrix" min="0" />

      <!-- Boutons -->
      <button class="btn-search" (click)="applyFilter()">Rechercher</button>
      <button class="btn-reset" (click)="resetSearch()">R√©initialiser</button>

  </section>

  <!-- Carte Google Maps -->
  <section class="map-section">
    <iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12856.06807160111!2d10.16579!3d36.81897!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1302c6a2f9a38e4f%3A0x7df8df4e0cc2a1e3!2sTunis!5e0!3m2!1sfr!2stn!4v1700000000000!5m2!1sfr!2stn"
    width="100%"
    height="450"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
  </section>

<!-- Results Section -->
<section class="results-section" *ngIf="showResults">
  <h3>R√©sultats sugg√©r√©s ‚ú®</h3>
  <div class="results">
    <div class="card" *ngFor="let logement of logements">
      <h4>{{ logement.titre }}</h4>

      <button (click)="voirDetail(logement)">Voir d√©tails</button>

      <!-- D√©tails du logement s√©lectionn√© -->
      <div *ngIf="selectedLogement === logement" class="detail-logement">
        <h2>D√©tails du logement</h2>
        <p><strong>Adresse :</strong> {{ selectedLogement.adresse }}</p>
        <p><strong>Type:</strong> {{ selectedLogement.type }}</p>
        <p><strong>Prix :</strong> {{ selectedLogement.prix }} TND / mois</p>
        <p><strong>Nombre de chambres :</strong> {{ selectedLogement.chambres }}</p>
        <p><strong>Superficie :</strong> {{ selectedLogement.superficie }} m¬≤</p>
        <p><strong>Description :</strong> {{ selectedLogement.description }}</p>
        <button (click)="selectedLogement = null">Fermer</button>
      </div>

      <button (click)="reserver(logement)" *ngIf="auth.isConnected()">
        {{ logement.reserve ? 'R√©serv√©' : 'R√©server' }}
      </button>

    </div>
  </div>
</section>

<button id="btn-retour" (click)="retourAccueil()">‚Üê Retour √† l'accueil</button>
</div>



